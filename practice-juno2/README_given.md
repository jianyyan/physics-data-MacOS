# Overview
此为 实验物理的大数据方法（2） 课程第二阶段粒子物理方向大作业：JUNO ***能量重建*** 的评测平台。

关于该作业的背景说明，可见 第一阶段作业。

本阶段中，你需要分析 PMT 波形，从中找到顶点动能，并写入文件中提交。本阶段不限制使用的编程语言、第三方库或者工具软件。

训练与测试用的数据可以从 这里 下载。

如果你还不熟悉本平台的使用，请查看 Knowledge Base 中的 平台使用指南

Evaluation
在线评测采取排位形式，同学们将计算结果按照规定的格式提交到 Submissions，平台将自动计算你所提交的结果同标准结果之间的能量分辨率，此距离越小，表示和标准结果符合得越好。最终此部分成绩保证是排名的严格递减函数。

具体来说，取真值为 
E
，你提交的答案为 
^
E
，则能量分辨率定义为

η
=
^
E
−
E
√
E
最终分数对 
η
 取方均根。

在线评测的结果作为作业总成绩中的黑盒部分，占 80%。你需要在 GitHub Classroom 上接受相应的作业，并在仓库中提交你的代码和任何用于运行的额外内容（如脚本、Makefile 等）。你的结果必须是可复现的，否则黑盒成绩将被酌情扣减（甚至取消）。

白盒部分占剩余的 20%。分为 Git 使用（5%）、代码风格（5%）与实验报告（10%）。在实验报告中，需要包含以下内容：

处理算法的核心思想（包括必要的数学推导、文献引用等）
代码整体结构与思路
遇到的问题及解决方法
代码的运行方式（特别是使用了额外的软件包或者需要较复杂的配置时）
Rules
这一阶段是上一阶段的逆过程，又称为重建。我们会统一提供模拟数据，并对各位同学提交的答案评分。为了避免过拟合，我们选取提交答案的一半结果评分，并在本平台中显示、排名；但是最终评分排名会根据全部结果，并在大作业结束之后公布分数。如果二者相差悬殊，可能面临进一步的评估。

我们会提供4000个正电子触发的若干 PMT 的波形和 PE 的击中时间。你需要重建着4000个正电子的动量。你可以选择从波形分析出发，也可以选择直接从 PE 的时间入手。

巧妇难为无米之炊。我们提供了18组训练数据，每组2000个正电子。你可能问为什么是18组数据而不是20组，这是因为前面2组用来出题了。

提供的训练集的 HDF5 文件格式如下：

ParticleTruth 表

名称 说明 类型
EventID	事件编号	'<i4'
x	粒子坐标x/mm	'<f8'
y	粒子坐标y/mm	'<f8'
z	粒子坐标z/mm	'<f8'
p	粒子动量/MeV	'<f8'
vis_photons	可见光子数量*	'<i4'
* 包括切伦科夫光和闪烁光

PETruth 表

名称 说明 类型
EventID	事件编号	'<i4'
ChannelID	PMT 编号	'<i4'
PETime	PE 击中时间/ns	'<f8'
PEType	PE 类型*	'<i4'
* -1暗噪声，0切伦科夫光，1闪烁光

Waveform 表

名称 说明 类型
EventID	事件编号	'<i4'
ChannelID	PMT 编号	'<i4'
Waveform	波形	'<i2', (1000,)
赛题提供 Waveform 表，需要提交的答案的格式为

Answer 表

名称 说明 类型
EventID	事件编号	'<i4'
p	顶点动量/MeV	'<f8'
附：几何文件格式：

Geometry 表

名称 说明 类型
ChannelID	PMT 编号	'<u4'
theta	球坐标 
θ
 角度	'<f4'
phi	球坐标 
ϕ
 角度	'<f4'
角度不是弧度。

Resources
若有任何疑问，还可以在讨论区发帖交流，或者联系教学团队。